# 신라 호텔 뷔페 더 파크뷰에 대한 사람들의 리뷰 평가

## 기간
- 2024-06-20 ~ 2024-06-28

## 아쉬웠던 점
- 본인은 일단 리뷰글에 대한 긍/부정 분류를 할 때, 수집할 리뷰글의 양에 대해 적당하다고 생각했다. 하지만 이는 데이터 분석을 할수록 수집한 리뷰글이 더 많았다면 좀 더 분석 결과가 명확해졌을거라 생각한다. 또한 분류한 카테고리들도 좀 더 다양했더라면 분석하는데에 한층 더 좋은 결과를 냈을거라고 생각한다.  

- 리뷰글의 명사 추출을 한 워드 클라우드 자료에는 `음식`키워드가 항상 최상위권이었다.
이를 바탕으로 `음식` 키워드안에 어떤 음식이 사람들에게 긍정/부정 평가가 되었는지에 대해서 썼더라면 이는 제일 빈출이 컸던 키워드중 `음식` 키워드에서 자세한 평가가 됬을테지만 이를 생각한 것이 프로젝트 마무리 단계라 아쉬웠다.  

- 형태소 분리하는 과정에서 동사/형용사를 분리하고 나니 `하다`,`가다`,`있다`등의 단어가 많이 나왔지만 행위에 대한 단어로서 분석을 하는데 도움이 되지 않기에 불용어 처리를 하는 것이 더 나았다고 생각한다. 하지만 불용어 처리는 데이터들을 보며 분석에 도움이 안되는 것을 거르는 거지만 거를 단어는 다 분석을 한 다음에 확인이 되는 거 같다. 만약 프로젝트 기간이 좀 더 있거나 워드클라우드 등으로 확인했을 때 불용어가 보이면 바로바로 적어 처리를 해야될거 같다.  

- 카테고리를 나눠 긍/부정을 확인하는 방법에서 글안에 하나의 카테고리에 대한 긍/부정이 같이 있을 수 있다는 허점이 있을 수 있다는 것을 알게 되었다. 프롬프트 작성에 대해 좀 더 배우고 난 이후에 나중에 비슷한 데이터 분석을 하게 될때에는 하나의 키워드에 대해 긍/부정 키워드가 같이 있게 된다면 바로 각자 분류를 실행할 것이다.  

- 카테고리중 가장 많은 긍/부정 평가 개수를 가진 카테고리들만 분석하는 것도 좋지만 너무 편향된 결과로만 나올 수 있게 된다. 가장 많은 긍정 평가의 개수를 가진 카테고리라면 가장 소수의 부정 평가 개수를 가진 카테고리일텐데 이에 대해서 분석을 해보지 못한게 분석을 함으로써 반만 분석한 느낌이다. 분석을 하는 관점의 중요성을 깨달았고 다음 분석에서는 어느 한쪽의 분석에 치우친 것이 아닌 

- 워드 클라우드를 통해 확인한 명사 키워드에 대해 빈도 수가 높은 단어들로만 선정 혹은 영향력이 높은 단어들로 선정하는 것이 맞는건지에 대한 고민이 있었다. 이번엔 그저 빈도 수가 높은 단어들로만 선정했지만 다음번에 다시 선정해야 한다면 빈도 수가 높은 단어들 중 의미가 포괄적인 키워드 혹은 특정 키워드로 나누어 선정을 하는 것이 맞다고 보고 분석에 도움이 될만한 키워드들을 선정해야 한다고 생각한다.  

- 또한 결론을 내는 과정에서의 끝맺음에 대해 어려움이 있었고 결론에는 과정에 대한 결론을 정리한 뒤 최종 결론느낌으로 '종합적으로 더 파크뷰의 리뷰글들은 대부분의 만족도에서 긍정적인 평가를 했지만 가격적인 측면에 대해선 부정적인 평가가 보였습니다.' 라고 끝맺음을 지어야 하는지 고민했다.  

제가 이 프로젝트를 하면서 느꼈던 점은 처음에는 리뷰글에 대한 긍/부정 분류를 통해 이 음식점에 대한 평가는 대부분 어떠한 평가다 라는 결론을 내고 싶었는데 분석을 하면서 이 분석방법이 맞는 분석인가에서 꼬리에서 꼬리를 물어 결국엔 처음 목표에 대한 방향이 온전치 않다라는 생각이 들게 된다. 이러한 느낀 점을 통해 분석을 할 때에 정리의 중요성에 대해 더 확실히 느끼게 된 거 같다.
---
## 목적

### 호텔 뷔페 리뷰에 대한 긍/부정 평가 분석
- 서울 신라 호텔 더 파크뷰 리뷰에 대한 사람들의 긍/부정 평가 분석

### 이유
- 신라 호텔 뷔페로 선정한 이유는 우리나라 3대 호텔 뷔페중 한곳이기에 선정함.
- 리뷰는 주관적인 부분이 많기 때문에 사람들의 음식점에 대한 리뷰 평가가 더욱 다양해진다.
- 다양한 리뷰 속 사람들이 내리는 긍/부정 평가에는 어떠한 평가 요소(키워드)가 포함되어 있는지에 대한 데이터 분석이다.

---
## 계획
- 프로젝트 과정은
    1. 데이터 수집
    2. 데이터 전처리
    3. 데이터 분석
    4. 보고서 작성

### 1. 데이터 수집
- 서울 신라 호텔 더 파크뷰에 대한 네이버 리뷰를 크롤링

- 리뷰의 개수는 200개
    - 리뷰의 개수는 시간적 대비 분석을 생각하여 결정함.

- 데이터를 수집할 곳
    - 신라호텔 더 파크뷰 네이버 리뷰 주소를 사용하여 크롤링

- 추출할 키워드
    - 아이디, 리뷰 텍스트, 방문 날짜, 방문 횟수

- 크롤링시 어려웠던 점
    - 리뷰 텍스트 길이가 길어 내용이 전부 보이지 않는 경우가 발생
        - 내용 더보기 아이콘을 클릭하여 리뷰 텍스트가 전부 다 보이게 함
    - 한페이지에 보이는 리뷰글의 갯수는 10개로 제한
        - 페이지를 내렸을 때, 더보기 버튼을 클릭하여 리뷰글의 개수를 늘려야함
        - 오류로 더보기 버튼을 계속 눌러 리뷰글의 개수가 200개까지 늘어나야하는데 190개 혹은 210개가 되는 경우 발생
        - 위의 오류를 해결을 하지 못했지만 코드를 실행할 때마다 개수가 달라져 200개가 추출되었을 때 진행함

---
### 2. 데이터 전처리
#### 고려한 데이터 전처리 방법
1. 특수문자, 한글 초성, 이모티콘 제거
    - 글에 쓰여진 이모티콘, 특수문자 그리고 한글 초성과도 같이 표현에 덧붙이거나 도와주는 것들이라 생각함
    - 단어 추출 또는 키워드 추출할 때 필요없는 표현들이기에 제거하기로 결정함
2. 맞춤법 / 띄어쓰기 확인
    - 키워드를 추출할 때 맞춤법이나 띄어쓰기가 틀려 추출이 안되는 경우가 있다고 생각함
    - 띄어쓰기가 잘못되어 다른 단어와 합쳐져 의도와 뜻이 다른 단어가 될 경우도 있다고 생각함
    - 이러한 경우들을 방지하기 위해 제거하기로 결정
3. 문장의 길이를 확인하여 이상치에 걸리는 리뷰글 제거
    - 다양한 리뷰글이 많은 만큼 길게 쓰지만 키워드와 관계되는 글이 나올 확률은 낮은 경우
    - 반대로 짧게 써서 키워드가 없는 글이 발생할수 있는 경우
    - 위의 경우들과 비슷한 경우들을 방지하기 위해 이상치를 구해 이상치에 걸리는 리뷰글을 제거하기로 결정함
4. 불용어 처리
    - 의미 분석을 하는데 도움이 되지 않는 단어나 조사등은 제거해야한다고 생각함
5. 신조어 처리
    - AI는 신조어 구별하기 어려워 신조어를 그대로 추출하게 되거나 의미 없는 신조어도 추출하게 되는 경우가 생길 수 있음
    - 신조어의 경우 뜻을 풀어서 적거나 제거해야한다고 생각함  

#### 과정
1. 리뷰에 쓰여진 특수문자, 한글 초성, 이모티콘 제거
    - 정규표현식을 사용
    - 문제점 발생
        - 이모티콘, 특수문자를 제거할 시 개행문자가 문자열에 저장됨
    - 해결 방법
        - 정규 표현식을 고쳐 이모티콘, 특수문자, 한글초성 제거하니 개행문자 발생 안함  

2. 맞춤법 / 띄어쓰기 확인
    - 한글 맞춤법 패키지인 `hanspell` 패키지 사용
        - 리뷰글이 빈칸인 리뷰글은 행을 지움
    - 한글 띄어쓰기 패키지인 `pykospacing` 패키지 사용
        - 패키지의 띄어쓰기가 완벽하지 않아 띄어쓰기 오류들이 발생함
        - 하지만 띄어쓰기가 잘된 글도 있어 그대로 두기로 결정  

3. 문장의 길이 확인및 이상치 확인
    - `describe()`함수와 히스토그램을 그려 리뷰글의 길이 분포도를 확인
    - 이상치를 찾는 방법 2가지를 찾아냄
        - Z-Score와 IQR
    - 그 중 IQR을 사용하여 이상치를 찾아 데이터프레임에서 제거함
        - IQR을 사용한 이유는 Z-Score보다 보편적이게 쓰이는 방법  

4. 불용어 처리
    - 불용어를 처리하기 위해 인터넷에 나오는 불용어 텍스트 파일을 확인
        - 리뷰글에 잘쓰이고 의미 있게 쓰이는 단어들이 있기에 전용 불용어 텍스트 파일을 만들 계획함
        - 하지만 이프로젝트는 단기간에 진행하는 것이기에 전용 불용어 파일을 만들 계획을 포기함.
    - 또한, 리뷰에서는 의미가 없는 단어라는 것이 많이 없다고 생각함
        - 음식점 리뷰에서는 서비스, 맛, 분위기등으로 평가를 함.
        - 서비스에서는 의미가 없을 수 있지만, 분위기에 의미가 있을 수 있는 단어들이 나타날 수 있다고 생각함
        - 이러한 중의적인 표현들이 있을 수 있기에 불용어에 대한 처리는 남겨두는 편이 좋다고 생각해서 불용어 처리를 안하기로 결정함
    - 결론적으로 불용어 처리를 하지 않기로 결정  

5. 신조어 처리
    - 신조어 처리를 위한 패키지 `Soynlp`사용
    - 문제점
        - 제대로 된 업데이트가 최근에 되지 않아 최근에 생긴 신조어에 대해서는 적용이 안되어있음
    - 새로운 방법
        - 음식점 리뷰글 특성상 신조어를 쓰는 경우가 많지 않다고 생각함 
        - 형태소 분리를 통해 신조어가 보이게 되면 다시 전처리 과정으로 돌아와 신조어 처리를 하기로 결정
    - 결론적으로 신조어 처리를 하지 않기로 결정

---
### 3. 데이터 분석
#### 고려한 데이터 분석방법
1. 형태소 분리
    - 형태소 분리를 통해 명사, 동사/형용사로 분리
    - 워드 클라우드 시각화를 통해 단어들의 분포를 확인
    - 신조어 혹은 불용어 확인
        - 신조어 또는 불용어가 확인되어 분석에 방해가 될 경우 전처리 과정으로 돌아가 처리

2. 네이버 키워드 리뷰를 통해 `만족도`, `맛`, `서비스`, `가격` 총 네가지로 나누어 긍정/부정 분류
    - 카테고리를 나눠 분류한 이유
        - 음식 리뷰글에는 다양한 평가 대상이 들어간다고 생각함
        - 리뷰글만으로 긍/부정을 판별시 어떠한 대상들이 긍/부정인지 확인이 어려움
        - 리뷰글에 카테고리를 나눠 긍/부정 분류를 하게 되면 좀 더 정확한 분류가 될거라 예상함
    - `만족도`,`맛`,`서비스`,`가격`으로 나누어 긍정/부정 분류한 이유
        - 음식점 리뷰에 들어가야할 평가 대상이라면 `맛`,`서비스`,`가격`등이 있다고 생각함
        - 이후 네이버 리뷰 주소에 들어가 특징 키워드 칸을 확인
            - `만족도`,`맛`,`서비스`,`가격`등이 있다는 것을 확인
            - 중요하다고 생각한 키워드들을 뽑아 카테고리별로 나누어 긍/부정 분류를 결정함

3. 긍정/부정으로 분류한 것에 대한 시각화 자료 표현
    - 시각화 자료를 통해 통계적으로 확인하는 자료들을 쉽게 구별하는 방법이라 생각하고 결정함

#### 과정
1. 형태소 분리
    - 형태소 분리를 통해 명사, 동사/형용사로 분리
    - 형태소 분리를 `Konlpy`패키지의 `Okt` 클래스를 사용
    - 문제점 발생
        - 명사라고 보기 애매한 단어도 분류됨
        - 동사/형용사 분류일 경우 `맛있다`,`맛있어요`와 같이 똑같은 의미지만 형태가 다른 단어들의 표현이 나타남
        - 단어의 빈출되는 정도를 보여주는 워드 클라우드의 목적이 흐려짐
    - 해결 방법
        - 형태소 분리를 `Kiwipiepy`를 사용하여 명사, 동사/형용사 분리
        - `Okt`보다 정확한 명사 분류가 시각화됨
        - 동사/형용사 분류인 경우 `맛있다`등의 중복되는 표현들이 사라지고 뜻이 하나인 표현들만 남았음

2. 네이버 키워드 리뷰를 통해 `만족도`, `맛`, `서비스`, `가격` 총 네가지로 나누어 긍정/부정 분류
    - AI 프롬프트를 작성하여 리뷰글에 대한 카테고리별 긍정/부정 분류및 csv파일에 저장
    - 문제점1 발생
        - 리뷰글에 카테고리 키워드에 대한 긍정과 부정 평가가 한꺼번에 들어갈 수 있음을 인지함.
        - 이 문제를 프롬프트를 이용해 좀 더 세분화하는 작업을 실행함
        - 프롬프트에 많은 일을 시키게 되면 과부하가 생기기에 작업물에 오류가 생김
    - 해결방법1
        - 이 프로젝트는 단기 프로젝트이고 프로젝트를 하며 분석에 대한 기초를 쌓고 있음
        - 이러한 문제점은 고쳐야 하지만 고칠려면 프롬프트에 대해 좀 더 자세히 공부해야함
        - 기간이 정해져 있으니 원래 잡았던 큰 목표 분석을 위해 프롬프트로 나눠지는 긍정/부정 평가만 하기로 결정

3. 긍정/부정으로 분류한 것에 대한 시각화 자료 표현
    - 사람들의 카테고리별 긍/부정 개수를 확인및 막대그래프로 시각화
        - 긍정 개수가 제일 많은 카테고리와 부정 개수가 제일 많은 카테고리 확인
    - 긍/부정의 비율도 확인하여 원그래프로 시각화
    - 긍정 개수가 제일 많은 카테고리(`만족도`)와 부정 개수가 제일 많은 카테고리(`가격`)로 나눔
        - `만족도`카테고리의 긍정 리뷰글과 `가격`카테고리의 부정 리뷰글로 데이터프레임 추출
        - 각 데이터프레임의 리뷰글들을 추출하여 명사, 동사/형용사 분리 과정 진행
        - 추출된 명사, 동사/형용사들로 워드 클라우드 시각화 진행
        - 추출된 명사, 동사/형용사들의 빈출 단어들로 예상 분석 실행
    - 문제점2 발생
        - `만족도`카테고리의 긍정 리뷰글과 `가격`카테고리의 부정 리뷰글의 명사, 동사/형용사 빈출 단어가 비슷함
        - `만족도`카테고리의 긍정 리뷰글은 171개의 리뷰글중 120개의 리뷰글이 긍정 리뷰글
        - `가격`카테고리의 부정 리뷰글은 171개의 리뷰글중 59개의 리뷰글이 부정 리뷰글
        - 위의 결과로 `만족도`의 긍정 리뷰글은 전체 리뷰글의 반 이상이고 `가격`의 부정 리뷰글은 전체 리뷰글의 1/3밖에 되지 않는다.
        - 이로 인해 겹치는 리뷰글들이 많아 빈출 단어가 비슷한 것으로 예상
    - 해결방법2
        - 크롤링할 리뷰글의 수를 늘리는 방법을 생각함
        - 긍/부정 리뷰글의 개수가 비슷한 카테고리끼리의 비교 방법을 생각함
        - 긍정 리뷰글과 부정 리뷰글의 같은 빈출 단어들에 대한 긍정/부정평가는 다를 수 있다고 예상하고 분류를 실행함
            - 빈출 단어들에 대한 긍/부정 분류를 실행

    - 각 리뷰글로 나누어 추출한 명사들 워드 클라우드 확인 및 빈도 수가 높은 3개의 명사 확인 및 추출
        - 빈도 수가 높은 3개의 명사에 대한 리뷰글의 긍/부정 분류
        - `만족도` 카테고리의 긍정 리뷰글 빈출 상위 3개의 명사 긍/부정 분류
        - `가격` 카테고리의 부정 리뷰글 빈출 상위 3개의 명사 긍/부정 분류
        - 총 긍/부정 개수를 구하여 비율을 구해서 시각화

## 결론
수집한 데이터 분석 결과를 요약하면 다음과 같다.  
네이버 리뷰글에 대해 4개의 카테고리로 분류하여 긍/부정 결과를 평가한 결과  
사람들이 카테고리별 총 긍/부정 평가를 한 개수는

![](image/temp_report/1719799529497.png) 

개수에 따른 긍정과 부정 평가의 비율은
![](https://imgur.com/CaVqdFg.jpg)  

긍정 비율은 `만족도` 카테고리가 제일 높았고 부정 비율은 `가격` 카테고리가 제일 높았다.  
이를 통해 사람들은 음식점에 대한 `만족도`는 긍정적이었지만 `가격`에 대한 평가는 부정적이었다.  
`만족도` 카테고리의 긍정 리뷰글과 `가격` 카테고리의 부정 리뷰글의 명사와 동사/형용사의 빈출 정도는  
![](https://imgur.com/XfKlEEf.jpg)
![](https://imgur.com/1IZSaBp.jpg)
`만족도` 카테고리는 명사에는 "음식", "친절", "디저트" 동사/형용사에는 행위에 대한 단어들을 빼고 "맛있다", "비싸다"등이 빈도 수가 높았다.  
`가격` 카테고리는 명사에는 "음식", "뷔페", "디저트" 동사/형용사에는 행위에 대한 단어들을 빼고 "맛있다", "비싸다", "아쉽다"등이 빈도 수가 높았다.  
이를 통해 사람들은 음식에 대해서는 맛있었다는 평이 긍정/부정 리뷰글에서 같이 나왔으며 또한 `가격`,`비싸다` 또는 `비싸다`라는 표현을 통해 가격은 비쌌다는 결론이 두 카테고리 긍정/부정 리뷰글을 통해 알 수 있다.  
![](https://imgur.com/yYgBFmq.jpg)
하지만, `만족도` 카테고리와 `가격` 카테고리의 명사 워드 클라우드 자료를 확인시,
"디저트" 단어의 빈출이 높다는 것을 알 수 있다.  
`만족도` 긍정 리뷰글과 `가격` 부정 리뷰글에 두 곳에 "디저트" 단어의 빈출이 높지만 이것이 긍정의 의미인지 부정의 의미인지 확인할 방법이 가지고 있는 자료로 확인이 어려웠다.  
따라서, "디저트"뿐만 아니라 `만족도`, `가격`의 명사 워드 클라우드의 빈출이 높은 단어 3개씩 뽑아 리뷰글에 따라 긍/부정 평가를 하였다.  

`만족도`, `가격`의 명사 워드 클라우드의 빈출이 높은 3개의 단어를 긍/부정 평가를 한 결과,
`만족도` 카테고리에서 각각 "디저트", "음식","친절"이 빈출이 높았고 전부 다 긍정의 결과가 나왔다.

![](https://imgur.com/oz7XvAl.jpg)

`가격` 카테고리에서는 각각 "디저트", "음식", "뷔페"가 빈출이 높았고 전부 다 긍정의 결과가 나왔다. 

![](https://imgur.com/T5CqJEL.jpg)
이를 종합하면,
더 파크뷰는 대부분 긍정적인 리뷰글로 구성되어 있지만, "가격"에 대해선 부정의 의견이 공통적으로 등장했다.  

![](https://imgur.com/NoxVwiT.jpg)  
또한, 신라호텔 더 파크뷰는 여러 음식을 즐길 수 있는 뷔페임에도 디저트에 대한 만족도가 많이 큰 것으로 드러났다.  